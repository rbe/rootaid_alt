=== Mail Clients

.Overview of Services and Ports
[cols="a,a,a",options="header"]
|====
| Service
| Port/TLS
| Port/non-TLS

| SMTP
| Submission Ports

[cols="a,a"]
!====
! 587 +
(STARTTLS)
! 465 +
(TLS/SSL)
!====

| 25 +
(please do not use for clients -- insecure, but STARTTLS supported)

| IMAP
| 993
| 143

| POP3
| 995
| 110

| Webmail
| 443
| 80 +
Automatic redirect to port 443
|====

==== Microsoft Outlook

.Settings for Outlook
[cols="a,a,a",options="header"]
|====
| Service
| Port
| Note

| SMTP
| 465 / 587
|

| IMAP
| 993
|

| POP3
| 995
|
|====

==== Mozilla Thunderbird

.Settings for Thunderbird
[cols="a,a,a",options="header"]
|====
| Service
| Port
| Note

| SMTP
| 587
| Check STARTTLS

| IMAP
| 993
|

| POP3
| 995
|
|====

==== Apple Mail

.Settings for Mail
[cols="a,a,a",options="header"]
|====
| Service
| Port
| Note

| SMTP
| 587
| Check "Use SSL" in +
menu:Preferences[Accounts > (your account) > Account Info > SMTP Server > Edit SMTP Servers]

| IMAP
| 993
| Check "Use SSL" +
menu:Preferences[Accounts > (your account) > Advanced]

| POP3
| 995
| Check "Use SSL" +
menu:Preferences[Accounts > (your account) > Advanced]
|====

==== Client Auto Configuration

* http://xtremelysocial.com/wordpress/flat/
* http://www.trullala.de/email-autoconfig-autodiscover/
* https://technet.microsoft.com/en-us/library/cc511507.aspx[Microsoft TechNet - Plan to automatically configure user accounts in Outlook 2010]
* https://technet.microsoft.com/en-us/library/bb124251.aspx[Microsoft TechNet - Autodiscover service]
* https://technet.microsoft.com/de-de/library/bb332063(exchg.80).aspx[White Paper: Exchange 2007 Autodiscover Service]
* http://dokuwiki.nausch.org/doku.php/centos:mail_c6:autoconfig_3[Autokonfiguration von Apple iPhone, iPad oder iPod]
* http://www.ullright.org/ullWiki/show/providing-email-client-autoconfiguration-information-from-moens-ch[Providing Email client autoconfiguration information from moens.ch]
* http://web.archive.org/web/20150102224744/http://moens.ch/2012/05/31/providing-email-client-autoconfiguration-information/[Providing Email client autoconfiguration information]

==== DNS SRV Record

A SRV record has the form:

  _service._proto.name. TTL class SRV priority weight port target.

|========
| _service._proto.name. TTL class SRV priority weight port target.
| service: the symbolic name of the desired service.
| proto: the transport protocol of the desired service; this is usually either TCP or UDP.
| name: the domain name for which this record is valid, ending in a dot.
| TTL: standard DNS time to live field.
| class: standard DNS class field (this is always IN).
| priority: the priority of the target host, lower value means more preferred.
| weight: A relative weight for records with the same priority, higher value means more preferred.
| port: the TCP or UDP port on which the service is to be found.
| target: the canonical hostname of the machine providing the service, ending in a dot.
|========

See

* https://en.wikipedia.org/wiki/SRV_record[Wikipedia - SRV record]
* https://tools.ietf.org/html/rfc6186[RFC6186 - Use of SRV Records for Locating Email Submission/Access Services]

.SRV records for mx.1ci.net
----
_autodiscover._tcp   SRV  0  1 443 mx.1ci.net/...
_submission._tcp     SRV  0  1 587 mx.1ci.net.
_imaps._tcp          SRV  0 10 993 mx.1ci.net.
_imap._tcp           SRV 10  1 143 mx.1ci.net.
_pop3s._tcp          SRV  0 10 995 mx.1ci.net.
_pop3._tcp           SRV 10  1 110 mx.1ci.net.
_caldav._tcp         SRV  0  1 443 mx.1ci.net/...
_carddav._tcp        SRV  0  1 443 mx.1ci.net/...
----

Check for correct DNS answer:

[source,bash,linenums]
.Check with "host"
----
root@mx:~# host -t srv _imaps._tcp.art-of-coding.eu
_imaps._tcp.art-of-coding.eu has SRV record 0 10 993 mx.1ci.net.
----

or

[source,bash,linenums]
.Check with "dig"
----
root@mx:~# dig -t srv _imaps._tcp.art-of-coding.eu +short
0 10 993 mx.1ci.net.
----

==== Thunderbird Auto Configuration

See https://wiki.mozilla.org/Thunderbird:Autoconfiguration[Thunderbird auto configuration].

Put the following XML at
http://autoconfig.example.com/mail/config-v1.1.xml?emailaddress=emailaddress
or at
http://autoconfig.example.com/mail/config-v1.1.xml

[source,xml,linenums]
----
include::../supplemental/thunderbird-mailconfig-v1.1.xml[]
----
