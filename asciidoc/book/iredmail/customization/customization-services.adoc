== Custom Services

=== LDAP Permissions Service

As I experienced problems with permissions for OpenLDAP database (files were owned by `root` not `openldap`)
a script which is executed at boot time will take care of permissions for our LDAP database files in `/var/lib/ldap`.

The script is located at `/root/bin/iredmail-ldap-permissions`.

[source,bash,linenums]
./etc/systemd/system/iredmail-ldap-permissions.service
----
[Unit]
Description=1Ci iRedMail Permission script

[Service]
Type=oneshot
ExecStart=/root/bin/iredmail-ldap-permissions

[Install]
WantedBy=multi-user.target
----

[source,bash,linenums]
.Enable systemd service
----
systemctl enable iredmail-ldap-permissions.service
----

In case you modified a `systemd` script just `reenable` it:
[source,bash,linenums]
.systemctl reenable
----
systemctl reenable iredmail-ldap-permissions.service
----
